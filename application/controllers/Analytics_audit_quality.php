<?php
defined('BASEPATH') or exit('No direct script access allowed');

class Analytics_audit_quality extends CI_Controller
{
    private $table_feedback;
    private $table_patients;
    private $sorttime;
    private $setup;
    private $asc;
    private $desc;
    private $table_tickets;
    private $open;
    private $closed;
    private $type;

    private $addressed;




    public function __construct()
    {
        parent::__construct();
        $this->load->library('session');
        $this->load->model(
            array(
                'dashboard_model',
                'efeedor_model',
                'ticketsint_model',
                'tickets_model',
                'ticketsop_model',
                'audit_model',
                'setting_model'
            )
        );

        $this->table_feedback = 'bf_feedback';
        $this->table_patients = 'bf_patients';
        $this->sorttime = 'asc';
        $this->setup = 'setup';
        $this->asc = 'asc';
        $this->desc = 'desc';
        $this->table_tickets = 'tickets';
        $this->open = 'Open';
        $this->closed = 'Closed';
        $this->addressed = 'Addressed';
        $this->type = 'inpatient';
    }





    public function patient_feedback_analysis()
    {
        //echo $_SESSION['ward'];

        $question_list_parent = $this->ipd_model->setup_result($this->setup);
        $feedback_data = $this->ipd_model->patient_and_feedback($this->table_patients, $this->table_feedback, $this->sorttime, $this->setup);

        $set = array();
        $resonse = array();
        foreach ($question_list_parent as $row) {
            $set['label_field'] = $row->shortname;
            $set['data_field'] = $this->get_total_feedback_rating_percentage($row->shortkey, $feedback_data);
            $set['data_field_count'] = $this->get_total_feedback_rating_count($row->shortkey, $feedback_data);
            $set['question'] = $row->question;

            $set['rated_1'] = $this->get_total_feedback_rated_count($row->shortkey, $feedback_data, 1);
            $set['rated_2'] = $this->get_total_feedback_rated_count($row->shortkey, $feedback_data, 2);
            $set['rated_3'] = $this->get_total_feedback_rated_count($row->shortkey, $feedback_data, 3);
            $set['rated_4'] = $this->get_total_feedback_rated_count($row->shortkey, $feedback_data, 4);
            $set['rated_5'] = $this->get_total_feedback_rated_count($row->shortkey, $feedback_data, 5);
            $set['total_feedback'] = $set['rated_1'] + $set['rated_2'] + $set['rated_3'] + $set['rated_4'] + $set['rated_5'];
            $set['all_detail'] = $set;
            $resonse[] = $set;
        }

        echo json_encode($resonse);
        exit;
    }






    // Response chart for MRD & MDC Audit

    public function resposnsechart_active_cases_mrd()
    {

        $table_feedback = 'bf_ma_active_cases_mrdip';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_discharged_patients_mrd()
    {

        $table_feedback = 'bf_ma_dischargedpatients_mrd_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_nursing_ip_closed()
    {

        $table_feedback = 'bf_ma_nursingip_closed_cases';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_nursing_ip_open()
    {

        $table_feedback = 'bf_ma_nursingip_open_cases';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_nursing_op_closed()
    {

        $table_feedback = 'bf_ma_nursingop_closed_cases';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_clinical_active_mdc()
    {

        $table_feedback = 'bf_ma_clinical_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_clinical_closed_mdc()
    {

        $table_feedback = 'bf_ma_clinical_closedcases_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_clinical_pharmacy_closed()
    {

        $table_feedback = 'bf_ma_clinical_pharmacy_closed';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_clinical_pharmacy_op()
    {

        $table_feedback = 'bf_ma_clinical_pharmacy_op';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_clinical_pharmacy_open()
    {

        $table_feedback = 'bf_ma_clinical_pharmacy_open';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_anesthesia_active()
    {

        $table_feedback = 'bf_ma_anesthesia_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_anesthesia_closed()
    {

        $table_feedback = 'bf_ma_anesthesia_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_ed_active()
    {

        $table_feedback = 'bf_ma_ed_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_ed_closed()
    {

        $table_feedback = 'bf_ma_ed_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_icu_active()
    {

        $table_feedback = 'bf_ma_icu_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    
    public function resposnsechart_icu_closed()
    {

        $table_feedback = 'bf_ma_icu_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_primarycare_active_mdc()
    {

        $table_feedback = 'bf_ma_primarycare_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_primarycare_closed_mdc()
    {

        $table_feedback = 'bf_ma_primarycare_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_sedation_active_mdc()
    {

        $table_feedback = 'bf_ma_sedation_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_sedation_closed_mdc()
    {

        $table_feedback = 'bf_ma_sedation_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_surgeons_active_mdc()
    {

        $table_feedback = 'bf_ma_surgeons_active_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_surgeons_closed_mdc()
    {

        $table_feedback = 'bf_ma_surgeons_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_dietconsultation_op_mdc()
    {

        $table_feedback = 'bf_ma_dietconsultation_op_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_physiotherapy_closed_mdc()
    {

        $table_feedback = 'bf_ma_physiotherapy_closed_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    
    public function resposnsechart_physiotherapy_op_mdc()
    {

        $table_feedback = 'bf_ma_physiotherapy_op_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    
    
    public function resposnsechart_physiotherapy_open_mdc()
    {

        $table_feedback = 'bf_ma_physiotherapy_open_mdc';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_mrd_ed_audit()
    {

        $table_feedback = 'bf_ma_mrd_ed_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_mrd_lama_audit()
    {

        $table_feedback = 'bf_ma_mrd_lama_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    
    public function resposnsechart_mrd_op_audit()
    {

        $table_feedback = 'bf_ma_mrd_op_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    


    public function resposnsechart_accidental_delining_audit()
    {

        $table_feedback = 'bf_ma_accidental_delining_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_admissionholding_area_audit()
    {

        $table_feedback = 'bf_ma_admission_area_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_cardio_pulmonary_checklist()
    {

        $table_feedback = 'bf_ma_cardio_pulmonary_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_extravasation_audit()
    {

        $table_feedback = 'bf_ma_extravasation_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_hapu_audit()
    {

        $table_feedback = 'bf_ma_hapu_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_initial_assessment_ae()
    {

        $table_feedback = 'bf_ma_assessment_ae';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_initial_assessment_ipd()
    {

        $table_feedback = 'bf_ma_assessment_ipd';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_initial_assessment_opd()
    {

        $table_feedback = 'bf_ma_assessment_opd';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_ipsg1()
    {

        $table_feedback = 'bf_ma_ipsg1_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_ipsg2_ae()
    {

        $table_feedback = 'bf_ma_ipsg2_ae';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_ipsg2_er()
    {

        $table_feedback = 'bf_ma_ipsg2_er';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_ipsg2_ipd()
    {

        $table_feedback = 'bf_ma_ipsg2_ipd';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_ipsg4_timeout()
    {

        $table_feedback = 'bf_ma_ipsg4_timeout';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_ipsg6_ip()
    {

        $table_feedback = 'bf_ma_ipsg6_ip';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    public function resposnsechart_ipsg6_opd()
    {

        $table_feedback = 'bf_ma_ipsg6_opd';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    public function resposnsechart_point_prevelance()
    {

        $table_feedback = 'bf_ma_point_prevlance_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    // Response chart for Clinical Outcome

    public function resposnsechart_clinicaloutcome_audit_acl()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_audit_acl';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_allogenic_bone_marrow()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_allogenic_bone_marrow';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_aortic_value_replacement()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_aortic_value_replacement';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_autologous_bone()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_autologous_bone';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_brain_tumour()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_brain_tumour';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_cabg()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_cabg';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
     public function resposnsechart_clinicaloutcome_carotid_stenting()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_carotid_stenting';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_chemotherapy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_chemotherapy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_colo_rectal()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_colo_rectal';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_endoscopy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_endoscopy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_epilepsy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_epilepsy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_herniorrhaphy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_herniorrhaphy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_holep()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_holep';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_laparoscopic_appendicectomy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_laparoscopic_appendicectomy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_mechanical_thrombectomy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_mechanical_thrombectomy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_mvr()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_mvr';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_ptca()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_ptca';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_renal_transplantation()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_renal_transplantation';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_scoliosis_correction()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_scoliosis_correction';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_spinal_dysraphism()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_spinal_dysraphism';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_spine_disc_surgery()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_spine_disc_surgery';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_thoracotomy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_thoracotomy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_tkr()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_tkr';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_uro_oncology()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_uro_oncology';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_whipples_surgery()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_whipples_surgery';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicaloutcome_laparoscopic_cholecystectomy()
    {

        $table_feedback = 'bf_ma_clinicaloutcome_laparoscopic_cholecystectomy';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    // Response chart for Clinical KPI
    
    public function resposnsechart_clinicalkpi_bronchodilators_audit()
    {

        $table_feedback = 'bf_ma_clinicalkpi_bronchodilators_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinicalkpi_copd_protocol_audit()
    {

        $table_feedback = 'bf_ma_clinicalkpi_copd_protocol_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    
    // Response chart for Infection Control
    public function resposnsechart_infection_control_biomedical_waste()
    {

        $table_feedback = 'bf_ma_infection_control_biomedical_waste';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_canteen_audit()
    {

        $table_feedback = 'bf_ma_infection_control_canteen_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_cssd_audit()
    {

        $table_feedback = 'bf_ma_infection_control_cssd_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_hand_hygiene()
    {

        $table_feedback = 'bf_ma_infection_control_hand_hygiene';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_bundle_audit()
    {

        $table_feedback = 'bf_ma_infection_control_bundle_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_ot_audit()
    {

        $table_feedback = 'bf_ma_infection_control_ot_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_linen_audit()
    {

        $table_feedback = 'bf_ma_infection_control_linen_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_ambulance_audit()
    {

        $table_feedback = 'bf_ma_infection_control_ambulance_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_coffee_audit()
    {

        $table_feedback = 'bf_ma_infection_control_coffee_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
     public function resposnsechart_infection_control_laboratory_audit()
    {

        $table_feedback = 'bf_ma_infection_control_laboratory_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_mortuary_audit()
    {

        $table_feedback = 'bf_ma_infection_control_mortuary_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_radiology_audit()
    {

        $table_feedback = 'bf_ma_infection_control_radiology_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_ssi_survelliance_audit()
    {

        $table_feedback = 'bf_ma_infection_control_ssi_survelliance_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_peripheralivline_audit()
    {

        $table_feedback = 'bf_ma_infection_control_peripheralivline_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_personalprotective_audit()
    {

        $table_feedback = 'bf_ma_infection_control_personalprotective_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_safe_injection_audit()
    {

        $table_feedback = 'bf_ma_infection_control_safe_injection_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_infection_control_surface_cleaning_audit()
    {

        $table_feedback = 'bf_ma_infection_control_surface_cleaning_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    
    
    //ResponseChart for Clinical Pathways
    public function resposnsechart_clinical_pathway_arthroscopic_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_arthroscopic_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_breast_lump_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_breast_lump_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_cardiac_arrest_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_cardiac_arrest_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_donor_hepatectomy_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_donor_hepatectomy_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_febrile_seizure_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_febrile_seizure_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_heart_transplant_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_heart_transplant_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_laproscopic_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_laproscopic_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_picc_line_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_picc_line_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_stroke_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_stroke_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_urodynamics_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_urodynamics_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_clinical_pathway_stemi_audit()
    {

        $table_feedback = 'bf_ma_clinical_pathway_stemi_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    //Responsechart for Housekeeping Audit
    public function resposnsechart_bmw_audit()
    {

        $table_feedback = 'bf_ma_bmw_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_pest_control_audit()
    {

        $table_feedback = 'bf_ma_pest_control_audit';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


   

    



    //Responsechart for KPI


    public function resposnsechart_CQI3a1()
    {

        $table_feedback = 'bf_feedback_CQI3a1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_CQI3a2()
    {

        $table_feedback = 'bf_feedback_CQI3a2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_CQI3a3()
    {

        $table_feedback = 'bf_feedback_CQI3a3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_CQI3a4()
    {

        $table_feedback = 'bf_feedback_CQI3a4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }


    public function resposnsechart_CQI3a5()
    {

        $table_feedback = 'bf_feedback_CQI3a5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a6()
    {

        $table_feedback = 'bf_feedback_CQI3a6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a7()
    {

        $table_feedback = 'bf_feedback_CQI3a7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a8()
    {

        $table_feedback = 'bf_feedback_CQI3a8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a9()
    {

        $table_feedback = 'bf_feedback_CQI3a9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a10()
    {

        $table_feedback = 'bf_feedback_CQI3a10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a11()
    {

        $table_feedback = 'bf_feedback_CQI3a11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a12()
    {

        $table_feedback = 'bf_feedback_CQI3a12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a13()
    {

        $table_feedback = 'bf_feedback_CQI3a13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a14()
    {

        $table_feedback = 'bf_feedback_CQI3a14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a15()
    {

        $table_feedback = 'bf_feedback_CQI3a15';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a16()
    {

        $table_feedback = 'bf_feedback_CQI3a16';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a17()
    {

        $table_feedback = 'bf_feedback_CQI3a17';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a18()
    {

        $table_feedback = 'bf_feedback_CQI3a18';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a19()
    {

        $table_feedback = 'bf_feedback_CQI3a19';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a20()
    {

        $table_feedback = 'bf_feedback_CQI3a20';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a21()
    {

        $table_feedback = 'bf_feedback_CQI3a21';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3a22()
    {

        $table_feedback = 'bf_feedback_CQI3a22';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b1()
    {

        $table_feedback = 'bf_feedback_CQI3b1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b2()
    {

        $table_feedback = 'bf_feedback_CQI3b2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b3()
    {

        $table_feedback = 'bf_feedback_CQI3b3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b4()
    {

        $table_feedback = 'bf_feedback_CQI3b4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b5()
    {

        $table_feedback = 'bf_feedback_CQI3b5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b6()
    {

        $table_feedback = 'bf_feedback_CQI3b6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b7()
    {

        $table_feedback = 'bf_feedback_CQI3b7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b8()
    {

        $table_feedback = 'bf_feedback_CQI3b8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b9()
    {

        $table_feedback = 'bf_feedback_CQI3b9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b10()
    {

        $table_feedback = 'bf_feedback_CQI3b10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b11()
    {

        $table_feedback = 'bf_feedback_CQI3b11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b12()
    {

        $table_feedback = 'bf_feedback_CQI3b12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3b13()
    {

        $table_feedback = 'bf_feedback_CQI3b13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c1()
    {

        $table_feedback = 'bf_feedback_CQI3c1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c2()
    {

        $table_feedback = 'bf_feedback_CQI3c2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c3()
    {

        $table_feedback = 'bf_feedback_CQI3c3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c4()
    {

        $table_feedback = 'bf_feedback_CQI3c4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c5()
    {

        $table_feedback = 'bf_feedback_CQI3c5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c6()
    {

        $table_feedback = 'bf_feedback_CQI3c6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c7()
    {

        $table_feedback = 'bf_feedback_CQI3c7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c8()
    {

        $table_feedback = 'bf_feedback_CQI3c8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c9()
    {

        $table_feedback = 'bf_feedback_CQI3c9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c10()
    {

        $table_feedback = 'bf_feedback_CQI3c10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c11()
    {

        $table_feedback = 'bf_feedback_CQI3c11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c12()
    {

        $table_feedback = 'bf_feedback_CQI3c12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c13()
    {

        $table_feedback = 'bf_feedback_CQI3c13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3c14()
    {

        $table_feedback = 'bf_feedback_CQI3c14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3d1()
    {

        $table_feedback = 'bf_feedback_CQI3d1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3d2()
    {

        $table_feedback = 'bf_feedback_CQI3d2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3d3()
    {

        $table_feedback = 'bf_feedback_CQI3d3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3d4()
    {

        $table_feedback = 'bf_feedback_CQI3d4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3d5()
    {

        $table_feedback = 'bf_feedback_CQI3d5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e1()
    {

        $table_feedback = 'bf_feedback_CQI3e1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e2()
    {

        $table_feedback = 'bf_feedback_CQI3e2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e3()
    {

        $table_feedback = 'bf_feedback_CQI3e3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e4()
    {

        $table_feedback = 'bf_feedback_CQI3e4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e5()
    {

        $table_feedback = 'bf_feedback_CQI3e5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e6()
    {

        $table_feedback = 'bf_feedback_CQI3e6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e7()
    {

        $table_feedback = 'bf_feedback_CQI3e7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e8()
    {

        $table_feedback = 'bf_feedback_CQI3e8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3e9()
    {

        $table_feedback = 'bf_feedback_CQI3e9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f1()
    {

        $table_feedback = 'bf_feedback_CQI3f1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f2()
    {

        $table_feedback = 'bf_feedback_CQI3f2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f3()
    {

        $table_feedback = 'bf_feedback_CQI3f3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f4()
    {

        $table_feedback = 'bf_feedback_CQI3f4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f5()
    {

        $table_feedback = 'bf_feedback_CQI3f5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f6()
    {

        $table_feedback = 'bf_feedback_CQI3f6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f7()
    {

        $table_feedback = 'bf_feedback_CQI3f7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f8()
    {

        $table_feedback = 'bf_feedback_CQI3f8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f9()
    {

        $table_feedback = 'bf_feedback_CQI3f9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3f10()
    {

        $table_feedback = 'bf_feedback_CQI3f10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3g1()
    {

        $table_feedback = 'bf_feedback_CQI3g1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3g2()
    {

        $table_feedback = 'bf_feedback_CQI3g2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3g3()
    {

        $table_feedback = 'bf_feedback_CQI3g3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3g4()
    {

        $table_feedback = 'bf_feedback_CQI3g4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3g5()
    {

        $table_feedback = 'bf_feedback_CQI3g5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3g6()
    {

        $table_feedback = 'bf_feedback_CQI3g6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h1()
    {

        $table_feedback = 'bf_feedback_CQI3h1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h2()
    {

        $table_feedback = 'bf_feedback_CQI3h2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h3()
    {

        $table_feedback = 'bf_feedback_CQI3h3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h4()
    {

        $table_feedback = 'bf_feedback_CQI3h4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h5()
    {

        $table_feedback = 'bf_feedback_CQI3h5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h6()
    {

        $table_feedback = 'bf_feedback_CQI3h6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h7()
    {

        $table_feedback = 'bf_feedback_CQI3h7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h8()
    {

        $table_feedback = 'bf_feedback_CQI3h8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3h9()
    {

        $table_feedback = 'bf_feedback_CQI3h9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j1()
    {

        $table_feedback = 'bf_feedback_CQI3j1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j2()
    {

        $table_feedback = 'bf_feedback_CQI3j2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j3()
    {

        $table_feedback = 'bf_feedback_CQI3j3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j4()
    {

        $table_feedback = 'bf_feedback_CQI3j4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j5()
    {

        $table_feedback = 'bf_feedback_CQI3j5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j6()
    {

        $table_feedback = 'bf_feedback_CQI3j6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j7()
    {

        $table_feedback = 'bf_feedback_CQI3j7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j8()
    {

        $table_feedback = 'bf_feedback_CQI3j8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j9()
    {

        $table_feedback = 'bf_feedback_CQI3j9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j10()
    {

        $table_feedback = 'bf_feedback_CQI3j10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j11()
    {

        $table_feedback = 'bf_feedback_CQI3j11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j12()
    {

        $table_feedback = 'bf_feedback_CQI3j12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j13()
    {

        $table_feedback = 'bf_feedback_CQI3j13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j14()
    {

        $table_feedback = 'bf_feedback_CQI3j14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j15()
    {

        $table_feedback = 'bf_feedback_CQI3j15';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j16()
    {

        $table_feedback = 'bf_feedback_CQI3j16';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j17()
    {

        $table_feedback = 'bf_feedback_CQI3j17';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j18()
    {

        $table_feedback = 'bf_feedback_CQI3j18';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j19()
    {

        $table_feedback = 'bf_feedback_CQI3j19';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j20()
    {

        $table_feedback = 'bf_feedback_CQI3j20';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j21()
    {

        $table_feedback = 'bf_feedback_CQI3j21';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j22()
    {

        $table_feedback = 'bf_feedback_CQI3j22';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j23()
    {

        $table_feedback = 'bf_feedback_CQI3j23';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j24()
    {

        $table_feedback = 'bf_feedback_CQI3j24';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j25()
    {

        $table_feedback = 'bf_feedback_CQI3j25';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j26()
    {

        $table_feedback = 'bf_feedback_CQI3j26';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j27()
    {

        $table_feedback = 'bf_feedback_CQI3j27';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j28()
    {

        $table_feedback = 'bf_feedback_CQI3j28';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j29()
    {

        $table_feedback = 'bf_feedback_CQI3j29';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j30()
    {

        $table_feedback = 'bf_feedback_CQI3j30';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j31()
    {

        $table_feedback = 'bf_feedback_CQI3j31';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j32()
    {

        $table_feedback = 'bf_feedback_CQI3j32';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j33()
    {

        $table_feedback = 'bf_feedback_CQI3j33';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3j34()
    {

        $table_feedback = 'bf_feedback_CQI3j34';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4a1()
    {

        $table_feedback = 'bf_feedback_CQI4a1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4a2()
    {

        $table_feedback = 'bf_feedback_CQI4a2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4a3()
    {

        $table_feedback = 'bf_feedback_CQI4a3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4a4()
    {

        $table_feedback = 'bf_feedback_CQI4a4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4a5()
    {

        $table_feedback = 'bf_feedback_CQI4a5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b1()
    {

        $table_feedback = 'bf_feedback_CQI4b1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b2()
    {

        $table_feedback = 'bf_feedback_CQI4b2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b3()
    {

        $table_feedback = 'bf_feedback_CQI4b3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b4()
    {

        $table_feedback = 'bf_feedback_CQI4b4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b5()
    {

        $table_feedback = 'bf_feedback_CQI4b5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b6()
    {

        $table_feedback = 'bf_feedback_CQI4b6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b7()
    {

        $table_feedback = 'bf_feedback_CQI4b7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4b8()
    {

        $table_feedback = 'bf_feedback_CQI4b8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c1()
    {

        $table_feedback = 'bf_feedback_CQI4c1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c2()
    {

        $table_feedback = 'bf_feedback_CQI4c2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c3()
    {

        $table_feedback = 'bf_feedback_CQI4c3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c4()
    {

        $table_feedback = 'bf_feedback_CQI4c4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c5()
    {

        $table_feedback = 'bf_feedback_CQI4c5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c6()
    {

        $table_feedback = 'bf_feedback_CQI4c6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c7()
    {

        $table_feedback = 'bf_feedback_CQI4c7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c8()
    {

        $table_feedback = 'bf_feedback_CQI4c8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c9()
    {

        $table_feedback = 'bf_feedback_CQI4c9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c10()
    {

        $table_feedback = 'bf_feedback_CQI4c10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c11()
    {

        $table_feedback = 'bf_feedback_CQI4c11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c12()
    {

        $table_feedback = 'bf_feedback_CQI4c12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c13()
    {

        $table_feedback = 'bf_feedback_CQI4c13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4c14()
    {

        $table_feedback = 'bf_feedback_CQI4c14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d1()
    {

        $table_feedback = 'bf_feedback_CQI4d1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d2()
    {

        $table_feedback = 'bf_feedback_CQI4d2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d3()
    {

        $table_feedback = 'bf_feedback_CQI4d3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d4()
    {

        $table_feedback = 'bf_feedback_CQI4d4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d5()
    {

        $table_feedback = 'bf_feedback_CQI4d5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d6()
    {

        $table_feedback = 'bf_feedback_CQI4d6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d7()
    {

        $table_feedback = 'bf_feedback_CQI4d7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d8()
    {

        $table_feedback = 'bf_feedback_CQI4d8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d9()
    {

        $table_feedback = 'bf_feedback_CQI4d9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d10()
    {

        $table_feedback = 'bf_feedback_CQI4d10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4d11()
    {

        $table_feedback = 'bf_feedback_CQI4d11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e1()
    {

        $table_feedback = 'bf_feedback_CQI4e1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e2()
    {

        $table_feedback = 'bf_feedback_CQI4e2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e3()
    {

        $table_feedback = 'bf_feedback_CQI4e3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e4()
    {

        $table_feedback = 'bf_feedback_CQI4e4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e5()
    {

        $table_feedback = 'bf_feedback_CQI4e5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e6()
    {

        $table_feedback = 'bf_feedback_CQI4e6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e7()
    {

        $table_feedback = 'bf_feedback_CQI4e7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4e8()
    {

        $table_feedback = 'bf_feedback_CQI4e8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f1()
    {

        $table_feedback = 'bf_feedback_CQI4f1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f2()
    {

        $table_feedback = 'bf_feedback_CQI4f2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f3()
    {

        $table_feedback = 'bf_feedback_CQI4f3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f4()
    {

        $table_feedback = 'bf_feedback_CQI4f4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f5()
    {

        $table_feedback = 'bf_feedback_CQI4f5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f6()
    {

        $table_feedback = 'bf_feedback_CQI4f6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4f7()
    {

        $table_feedback = 'bf_feedback_CQI4f7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4g1()
    {

        $table_feedback = 'bf_feedback_CQI4g1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4g2()
    {

        $table_feedback = 'bf_feedback_CQI4g2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4g3()
    {

        $table_feedback = 'bf_feedback_CQI4g3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4g4()
    {

        $table_feedback = 'bf_feedback_CQI4g4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4g5()
    {

        $table_feedback = 'bf_feedback_CQI4g5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4g6()
    {

        $table_feedback = 'bf_feedback_CQI4g6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k1()
    {

        $table_feedback = 'bf_feedback_CQI3k1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k2()
    {

        $table_feedback = 'bf_feedback_CQI3k2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k3()
    {

        $table_feedback = 'bf_feedback_CQI3k3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k4()
    {

        $table_feedback = 'bf_feedback_CQI3k4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k5()
    {

        $table_feedback = 'bf_feedback_CQI3k5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k6()
    {

        $table_feedback = 'bf_feedback_CQI3k6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k7()
    {

        $table_feedback = 'bf_feedback_CQI3k7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k8()
    {

        $table_feedback = 'bf_feedback_CQI3k8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k9()
    {

        $table_feedback = 'bf_feedback_CQI3k9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k10()
    {

        $table_feedback = 'bf_feedback_CQI3k10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k11()
    {

        $table_feedback = 'bf_feedback_CQI3k11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k12()
    {

        $table_feedback = 'bf_feedback_CQI3k12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k13()
    {

        $table_feedback = 'bf_feedback_CQI3k13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k14()
    {

        $table_feedback = 'bf_feedback_CQI3k14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k15()
    {

        $table_feedback = 'bf_feedback_CQI3k15';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k16()
    {

        $table_feedback = 'bf_feedback_CQI3k16';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k17()
    {

        $table_feedback = 'bf_feedback_CQI3k17';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k18()
    {

        $table_feedback = 'bf_feedback_CQI3k18';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k19()
    {

        $table_feedback = 'bf_feedback_CQI3k19';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k20()
    {

        $table_feedback = 'bf_feedback_CQI3k20';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k21()
    {

        $table_feedback = 'bf_feedback_CQI3k21';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k22()
    {

        $table_feedback = 'bf_feedback_CQI3k22';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k23()
    {

        $table_feedback = 'bf_feedback_CQI3k23';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k24()
    {

        $table_feedback = 'bf_feedback_CQI3k24';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k25()
    {

        $table_feedback = 'bf_feedback_CQI3k25';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k26()
    {

        $table_feedback = 'bf_feedback_CQI3k26';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k27()
    {

        $table_feedback = 'bf_feedback_CQI3k27';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k28()
    {

        $table_feedback = 'bf_feedback_CQI3k28';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k29()
    {

        $table_feedback = 'bf_feedback_CQI3k29';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k30()
    {

        $table_feedback = 'bf_feedback_CQI3k30';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k31()
    {

        $table_feedback = 'bf_feedback_CQI3k31';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k32()
    {

        $table_feedback = 'bf_feedback_CQI3k32';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k33()
    {

        $table_feedback = 'bf_feedback_CQI3k33';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k34()
    {

        $table_feedback = 'bf_feedback_CQI3k34';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k35()
    {

        $table_feedback = 'bf_feedback_CQI3k35';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k36()
    {

        $table_feedback = 'bf_feedback_CQI3k36';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k37()
    {

        $table_feedback = 'bf_feedback_CQI3k37';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k38()
    {

        $table_feedback = 'bf_feedback_CQI3k38';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k39()
    {

        $table_feedback = 'bf_feedback_CQI3k39';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k40()
    {

        $table_feedback = 'bf_feedback_CQI3k40';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k41()
    {

        $table_feedback = 'bf_feedback_CQI3k41';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k42()
    {

        $table_feedback = 'bf_feedback_CQI3k42';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k43()
    {

        $table_feedback = 'bf_feedback_CQI3k43';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k44()
    {

        $table_feedback = 'bf_feedback_CQI3k44';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k45()
    {

        $table_feedback = 'bf_feedback_CQI3k45';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k46()
    {

        $table_feedback = 'bf_feedback_CQI3k46';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k47()
    {

        $table_feedback = 'bf_feedback_CQI3k47';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k48()
    {

        $table_feedback = 'bf_feedback_CQI3k48';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k49()
    {

        $table_feedback = 'bf_feedback_CQI3k49';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k50()
    {

        $table_feedback = 'bf_feedback_CQI3k50';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k51()
    {

        $table_feedback = 'bf_feedback_CQI3k51';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k52()
    {

        $table_feedback = 'bf_feedback_CQI3k52';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k53()
    {

        $table_feedback = 'bf_feedback_CQI3k53';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k54()
    {

        $table_feedback = 'bf_feedback_CQI3k54';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k55()
    {

        $table_feedback = 'bf_feedback_CQI3k55';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k56()
    {

        $table_feedback = 'bf_feedback_CQI3k56';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k57()
    {

        $table_feedback = 'bf_feedback_CQI3k57';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k58()
    {

        $table_feedback = 'bf_feedback_CQI3k58';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k59()
    {

        $table_feedback = 'bf_feedback_CQI3k59';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k60()
    {

        $table_feedback = 'bf_feedback_CQI3k60';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k61()
    {

        $table_feedback = 'bf_feedback_CQI3k61';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k62()
    {

        $table_feedback = 'bf_feedback_CQI3k62';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k63()
    {

        $table_feedback = 'bf_feedback_CQI3k63';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI3k64()
    {

        $table_feedback = 'bf_feedback_CQI3k64';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h1()
    {

        $table_feedback = 'bf_feedback_CQI4h1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h2()
    {

        $table_feedback = 'bf_feedback_CQI4h2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h3()
    {

        $table_feedback = 'bf_feedback_CQI4h3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h4()
    {

        $table_feedback = 'bf_feedback_CQI4h4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h5()
    {

        $table_feedback = 'bf_feedback_CQI4h5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h6()
    {

        $table_feedback = 'bf_feedback_CQI4h6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h7()
    {

        $table_feedback = 'bf_feedback_CQI4h7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h8()
    {

        $table_feedback = 'bf_feedback_CQI4h8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h9()
    {

        $table_feedback = 'bf_feedback_CQI4h9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h10()
    {

        $table_feedback = 'bf_feedback_CQI4h10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h11()
    {

        $table_feedback = 'bf_feedback_CQI4h11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h12()
    {

        $table_feedback = 'bf_feedback_CQI4h12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h13()
    {

        $table_feedback = 'bf_feedback_CQI4h13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h14()
    {

        $table_feedback = 'bf_feedback_CQI4h14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h15()
    {

        $table_feedback = 'bf_feedback_CQI4h15';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h16()
    {

        $table_feedback = 'bf_feedback_CQI4h16';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h17()
    {

        $table_feedback = 'bf_feedback_CQI4h17';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h18()
    {

        $table_feedback = 'bf_feedback_CQI4h18';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h19()
    {

        $table_feedback = 'bf_feedback_CQI4h19';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h20()
    {

        $table_feedback = 'bf_feedback_CQI4h20';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h21()
    {

        $table_feedback = 'bf_feedback_CQI4h21';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h22()
    {

        $table_feedback = 'bf_feedback_CQI4h22';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h23()
    {

        $table_feedback = 'bf_feedback_CQI4h23';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h24()
    {

        $table_feedback = 'bf_feedback_CQI4h24';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h25()
    {

        $table_feedback = 'bf_feedback_CQI4h25';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h26()
    {

        $table_feedback = 'bf_feedback_CQI4h26';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h27()
    {

        $table_feedback = 'bf_feedback_CQI4h27';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h28()
    {

        $table_feedback = 'bf_feedback_CQI4h28';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h29()
    {

        $table_feedback = 'bf_feedback_CQI4h29';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h30()
    {

        $table_feedback = 'bf_feedback_CQI4h30';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h31()
    {

        $table_feedback = 'bf_feedback_CQI4h31';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h32()
    {

        $table_feedback = 'bf_feedback_CQI4h32';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h33()
    {

        $table_feedback = 'bf_feedback_CQI4h33';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h34()
    {

        $table_feedback = 'bf_feedback_CQI4h34';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h35()
    {

        $table_feedback = 'bf_feedback_CQI4h35';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h36()
    {

        $table_feedback = 'bf_feedback_CQI4h36';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h37()
    {

        $table_feedback = 'bf_feedback_CQI4h37';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h38()
    {

        $table_feedback = 'bf_feedback_CQI4h38';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h39()
    {

        $table_feedback = 'bf_feedback_CQI4h39';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h40()
    {

        $table_feedback = 'bf_feedback_CQI4h40';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h41()
    {

        $table_feedback = 'bf_feedback_CQI4h41';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h42()
    {

        $table_feedback = 'bf_feedback_CQI4h42';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h43()
    {

        $table_feedback = 'bf_feedback_CQI4h43';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h44()
    {

        $table_feedback = 'bf_feedback_CQI4h44';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h45()
    {

        $table_feedback = 'bf_feedback_CQI4h45';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h46()
    {

        $table_feedback = 'bf_feedback_CQI4h46';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h47()
    {

        $table_feedback = 'bf_feedback_CQI4h47';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h48()
    {

        $table_feedback = 'bf_feedback_CQI4h48';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h49()
    {

        $table_feedback = 'bf_feedback_CQI4h49';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h50()
    {

        $table_feedback = 'bf_feedback_CQI4h50';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h51()
    {

        $table_feedback = 'bf_feedback_CQI4h51';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h52()
    {

        $table_feedback = 'bf_feedback_CQI4h52';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h53()
    {

        $table_feedback = 'bf_feedback_CQI4h53';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h54()
    {

        $table_feedback = 'bf_feedback_CQI4h54';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h55()
    {

        $table_feedback = 'bf_feedback_CQI4h55';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4h56()
    {

        $table_feedback = 'bf_feedback_CQI4h56';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM1()
    {

        $table_feedback = 'bf_feedback_CLOTCM1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM2()
    {

        $table_feedback = 'bf_feedback_CLOTCM2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM3()
    {

        $table_feedback = 'bf_feedback_CLOTCM3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM4()
    {

        $table_feedback = 'bf_feedback_CLOTCM4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM5()
    {

        $table_feedback = 'bf_feedback_CLOTCM5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM6()
    {

        $table_feedback = 'bf_feedback_CLOTCM6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM7()
    {

        $table_feedback = 'bf_feedback_CLOTCM7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM8()
    {

        $table_feedback = 'bf_feedback_CLOTCM8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM9()
    {

        $table_feedback = 'bf_feedback_CLOTCM9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM10()
    {

        $table_feedback = 'bf_feedback_CLOTCM10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM11()
    {

        $table_feedback = 'bf_feedback_CLOTCM11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM12()
    {

        $table_feedback = 'bf_feedback_CLOTCM12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM13()
    {

        $table_feedback = 'bf_feedback_CLOTCM13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM14()
    {

        $table_feedback = 'bf_feedback_CLOTCM14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM15()
    {

        $table_feedback = 'bf_feedback_CLOTCM15';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM16()
    {

        $table_feedback = 'bf_feedback_CLOTCM16';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM17()
    {

        $table_feedback = 'bf_feedback_CLOTCM17';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM18()
    {

        $table_feedback = 'bf_feedback_CLOTCM18';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM19()
    {

        $table_feedback = 'bf_feedback_CLOTCM19';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM20()
    {

        $table_feedback = 'bf_feedback_CLOTCM20';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM21()
    {

        $table_feedback = 'bf_feedback_CLOTCM21';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM22()
    {

        $table_feedback = 'bf_feedback_CLOTCM22';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM23()
    {

        $table_feedback = 'bf_feedback_CLOTCM23';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM24()
    {

        $table_feedback = 'bf_feedback_CLOTCM24';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM25()
    {

        $table_feedback = 'bf_feedback_CLOTCM25';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM26()
    {

        $table_feedback = 'bf_feedback_CLOTCM26';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM27()
    {

        $table_feedback = 'bf_feedback_CLOTCM27';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM28()
    {

        $table_feedback = 'bf_feedback_CLOTCM28';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM29()
    {

        $table_feedback = 'bf_feedback_CLOTCM29';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CLOTCM30()
    {

        $table_feedback = 'bf_feedback_CLOTCM30';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i1()
    {

        $table_feedback = 'bf_feedback_CQI4i1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i2()
    {

        $table_feedback = 'bf_feedback_CQI4i2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i3()
    {

        $table_feedback = 'bf_feedback_CQI4i3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i4()
    {

        $table_feedback = 'bf_feedback_CQI4i4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i5()
    {

        $table_feedback = 'bf_feedback_CQI4i5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i6()
    {

        $table_feedback = 'bf_feedback_CQI4i6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i7()
    {

        $table_feedback = 'bf_feedback_CQI4i7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i8()
    {

        $table_feedback = 'bf_feedback_CQI4i8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i9()
    {

        $table_feedback = 'bf_feedback_CQI4i9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i10()
    {

        $table_feedback = 'bf_feedback_CQI4i10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i11()
    {

        $table_feedback = 'bf_feedback_CQI4i11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i12()
    {

        $table_feedback = 'bf_feedback_CQI4i12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i13()
    {

        $table_feedback = 'bf_feedback_CQI4i13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4i14()
    {

        $table_feedback = 'bf_feedback_CQI4i14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j1()
    {

        $table_feedback = 'bf_feedback_CQI4j1';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j2()
    {

        $table_feedback = 'bf_feedback_CQI4j2';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j3()
    {

        $table_feedback = 'bf_feedback_CQI4j3';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j4()
    {

        $table_feedback = 'bf_feedback_CQI4j4';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j5()
    {

        $table_feedback = 'bf_feedback_CQI4j5';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j6()
    {

        $table_feedback = 'bf_feedback_CQI4j6';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j7()
    {

        $table_feedback = 'bf_feedback_CQI4j7';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j8()
    {

        $table_feedback = 'bf_feedback_CQI4j8';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j9()
    {

        $table_feedback = 'bf_feedback_CQI4j9';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j10()
    {

        $table_feedback = 'bf_feedback_CQI4j10';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j11()
    {

        $table_feedback = 'bf_feedback_CQI4j11';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j12()
    {

        $table_feedback = 'bf_feedback_CQI4j12';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j13()
    {

        $table_feedback = 'bf_feedback_CQI4j13';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j14()
    {

        $table_feedback = 'bf_feedback_CQI4j14';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j15()
    {

        $table_feedback = 'bf_feedback_CQI4j15';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j16()
    {

        $table_feedback = 'bf_feedback_CQI4j16';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j17()
    {

        $table_feedback = 'bf_feedback_CQI4j17';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j18()
    {

        $table_feedback = 'bf_feedback_CQI4j18';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j19()
    {

        $table_feedback = 'bf_feedback_CQI4j19';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j20()
    {

        $table_feedback = 'bf_feedback_CQI4j20';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j21()
    {

        $table_feedback = 'bf_feedback_CQI4j21';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_CQI4j22()
    {

        $table_feedback = 'bf_feedback_CQI4j22';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->kpi_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    





    
    




















    public function resposnsechart_6ps()
    {

        $table_feedback = 'bf_feedback_6PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_7ps()
    {

        $table_feedback = 'bf_feedback_7PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_8ps()
    {

        $table_feedback = 'bf_feedback_8PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_9ps()
    {

        $table_feedback = 'bf_feedback_9PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_10ps()
    {

        $table_feedback = 'bf_feedback_10PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_11ps()
    {

        $table_feedback = 'bf_feedback_11PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_12ps()
    {

        $table_feedback = 'bf_feedback_12PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_13ps()
    {

        $table_feedback = 'bf_feedback_13PSQ3b';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_14ps()
    {

        $table_feedback = 'bf_feedback_14PSQ3b';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_15ps()
    {

        $table_feedback = 'bf_feedback_15PSQ3b';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_16ps()
    {

        $table_feedback = 'bf_feedback_16PSQ3b';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_17ps()
    {

        $table_feedback = 'bf_feedback_17PSQ3b';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_18ps()
    {

        $table_feedback = 'bf_feedback_18PSQ3b';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_19ps()
    {

        $table_feedback = 'bf_feedback_19PSQ3c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_20ps()
    {

        $table_feedback = 'bf_feedback_20PSQ3c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_21ps()
    {

        $table_feedback = 'bf_feedback_21PSQ3c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_21aps()
    {

        $table_feedback = 'bf_feedback_21aPSQ3c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_22ps()
    {

        $table_feedback = 'bf_feedback_22PSQ3c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_23aps()
    {

        $table_feedback = 'bf_feedback_23aPSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_23bps()
    {

        $table_feedback = '	bf_feedback_23bPSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_23cps()
    {

        $table_feedback = 'bf_feedback_23cPSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_23dps()
    {

        $table_feedback = '	bf_feedback_23dPSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }




    public function resposnsechart_24ps()
    {

        $table_feedback = 'bf_feedback_24PSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
    public function resposnsechart_25ps()
    {

        $table_feedback = 'bf_feedback_25PSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_26ps()
    {

        $table_feedback = 'bf_feedback_26PSQ4c';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_27ps()
    {

        $table_feedback = 'bf_feedback_27PSQ4d';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_28ps()
    {

        $table_feedback = 'bf_feedback_28PSQ4d';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_29ps()
    {

        $table_feedback = 'bf_feedback_29PSQ4d';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_30ps()
    {

        $table_feedback = 'bf_feedback_30PSQ4d';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_31ps()
    {

        $table_feedback = 'bf_feedback_31PSQ3d';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_32ps()
    {

        $table_feedback = 'bf_feedback_32PSQ3d';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_33ps()
    {

        $table_feedback = 'bf_feedback_PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_34ps()
    {

        $table_feedback = 'bf_feedback_33PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_35ps()
    {

        $table_feedback = 'bf_feedback_34PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_36ps()
    {

        $table_feedback = 'bf_feedback_35PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_37ps()
    {

        $table_feedback = 'bf_feedback_36PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_38ps()
    {

        $table_feedback = 'bf_feedback_37PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_39ps()
    {

        $table_feedback = 'bf_feedback_38PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_40ps()
    {

        $table_feedback = 'bf_feedback_39PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_41ps()
    {

        $table_feedback = 'bf_feedback_40PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_42ps()
    {

        $table_feedback = 'bf_feedback_41PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_43ps()
    {

        $table_feedback = 'bf_feedback_42PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_44ps()
    {

        $table_feedback = 'bf_feedback_43PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_45ps()
    {

        $table_feedback = 'bf_feedback_44PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_46ps()
    {

        $table_feedback = 'bf_feedback_45PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_47ps()
    {

        $table_feedback = 'bf_feedback_46PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_48ps()
    {

        $table_feedback = 'bf_feedback_47PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_49ps()
    {

        $table_feedback = 'bf_feedback_48PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_50ps()
    {

        $table_feedback = 'bf_feedback_49PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }

    public function resposnsechart_51ps()
    {

        $table_feedback = 'bf_feedback_50PSQ3a';
        $table_patients = 'bf_patients';
        $sorttime = 'asc';
        $setup = 'setup';
        $asc = 'asc';
        $desc = 'desc';
        //$dates = get_from_to_date();
        $feedback_data = $this->audit_model->patient_and_feedback($table_patients, $table_feedback, $sorttime, $setup);
        $days = $_SESSION['days'];
        $set = array();
        $report = array();
        $y = date('Y');
        $fdate = date('Y-m-d', strtotime($_SESSION['from_date']));
        $tdate = date('Y-m-d', strtotime($_SESSION['to_date']));
        foreach ($feedback_data as $row) {
            if ($days > 10 && $days < 93) {
                $desdate = getStartAndEndDate($row->datetime, $fdate, $tdate);
                $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . $desdate['mon'];
            } elseif ($days <= 10) {
                $mon = date("d", strtotime($row->datetime)) . '-' . date("F", strtotime($row->datetime));
            } else {
                $mon = date("F", strtotime($row->datetime));
            }
            // if ($days > 0) {
            //     if ($days < 183 && $days > 10) {
            //         $desdate = getStartAndEndDate(date("W", strtotime($row->datetime)), $y);
            //         $mon = $desdate['week_start'] . '-' . $desdate['week_end'] . ' ' . date("F", strtotime($row->datetime));
            //     }
            // }
            $param = json_decode($row->dataset);

// initialize the report entry if not already
if (!isset($report[$mon])) {
    $report[$mon]['count'] = 0;
}

// each $row is one audit record, so increment by 1
$report[$mon]['count']++;

// total audits overall
$report[$mon]['overall'] = count($feedback_data);

        }
        $response = array();
        foreach ($report as $key => $row) {
            $set = array();
            $set['label_field'] = $key;
            $set['data_field'] = round((($report[$key]['count']) / count($feedback_data)) * 100);
            $set['all_detail'] = $report[$key];
            $response[] = $set;
        }
        echo json_encode($response);
        exit;
    }
}
